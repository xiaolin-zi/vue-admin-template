(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4d80"],{"07be":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"search-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchObj}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"课程名称"},model:{value:e.searchObj.courseName,callback:function(t){e.$set(e.searchObj,"courseName",t)},expression:"searchObj.courseName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"评论内容"},model:{value:e.searchObj.content,callback:function(t){e.$set(e.searchObj,"content",t)},expression:"searchObj.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getCommentList}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"content-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.commentList,border:""}},[a("el-table-column",{attrs:{prop:"nickname",label:"用户昵称",width:"180"}}),a("el-table-column",{attrs:{prop:"avatar",label:"用户头像",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.row.avatar,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"courseName",label:"评论课程"}}),a("el-table-column",{attrs:{prop:"content",label:"评论内容"}}),a("el-table-column",{attrs:{prop:"agreeCount",label:"获赞数"}}),a("el-table-column",{attrs:{label:"回复详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nickname)+" 回复 "+e._s(t.row.toNickname)+" ")]}}])}),a("el-table-column",{attrs:{prop:"gmtCreate",label:"评论时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleGoDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.pageNum,"page-sizes":[4,8,12,20,50,100],"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},o=[],s=(a("99af"),a("b775")),c={getCommentList:function(e,t,a){return Object(s["a"])({url:"/eduservice/comment/pageComment/".concat(e,"/").concat(t),method:"post",data:a})},deleteComment:function(e){return Object(s["a"])({url:"/eduservice/comment/".concat(e),method:"delete"})}},i={data:function(){return{pageInfo:{pageNum:1,pageSize:4,total:0},searchObj:{courseName:"",content:""},commentList:[]}},created:function(){this.getCommentList()},methods:{getCommentList:function(){var e=this;c.getCommentList(this.pageInfo.pageNum,this.pageInfo.pageSize,this.searchObj).then((function(t){console.log(t),e.commentList=t.data.commentList,e.pageInfo.total=t.data.total}))},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.getCommentList()},handleCurrentChange:function(e){this.pageInfo.pageNum=e,this.getCommentList()},handleGoDelete:function(e){var t=this;this.$confirm("此操作将永久删除该留言, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c.deleteComment(e.id).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getCommentList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},l=i,r=a("2877"),m=Object(r["a"])(l,n,o,!1,null,"4480bb2a",null);t["default"]=m.exports}}]);