(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32aa5c4a"],{2256:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"轮播图名"},model:{value:e.bannerQuery.title,callback:function(t){e.$set(e.bannerQuery,"title",t)},expression:"bannerQuery.title"}})],1),n("el-form-item",{attrs:{label:"添加时间"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"00:00:00"},model:{value:e.bannerQuery.begin,callback:function(t){e.$set(e.bannerQuery,"begin",t)},expression:"bannerQuery.begin"}})],1),n("el-form-item",[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择截止时间","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"00:00:00"},model:{value:e.bannerQuery.end,callback:function(t){e.$set(e.bannerQuery,"end",t)},expression:"bannerQuery.end"}})],1),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getbannerList()}}},[e._v("查 询")]),n("el-button",{attrs:{type:"default"},on:{click:function(t){return e.resetData()}}},[e._v("清空")])],1),n("el-table",{attrs:{data:e.bannerList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.page-1)*e.limit+t.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{prop:"title",label:"名称",width:"200"}}),n("el-table-column",{attrs:{label:"轮播图",width:"349"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div",{staticClass:"pic"},[n("img",{attrs:{src:e.row.imageUrl,alt:e.row.title,width:"320px"}})])]}}])}),n("el-table-column",{attrs:{prop:"linkUrl",label:"跳转地址",width:"200"}}),n("el-table-column",{attrs:{prop:"gmtCreate",label:"添加时间",width:"200"}}),n("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100"}}),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(n){return e.openBanner(t.row.id)}}},[e._v("修改")]),n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return e.removeDataById(t.row.id)}}},[e._v(" 删除 ")])]}}])})],1),n("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.page,"page-size":e.limit,"page-sizes":[5,10,20,30,40,50,100],total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.getbannerList,"size-change":e.changeSize}}),n("el-dialog",{attrs:{title:"编辑课程基本信息",visible:e.openupdateBanner},on:{"update:visible":function(t){e.openupdateBanner=t}}},[n("el-form",{attrs:{"label-width":"120px"}},[n("el-form-item",{attrs:{label:"轮播图名称"}},[n("el-input",{model:{value:e.banner.title,callback:function(t){e.$set(e.banner,"title",t)},expression:"banner.title"}})],1),n("el-form-item",{attrs:{label:"轮播图排序"}},[n("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.banner.sort,callback:function(t){e.$set(e.banner,"sort",t)},expression:"banner.sort"}})],1),n("el-form-item",{attrs:{label:"链接地址"}},[n("el-input",{attrs:{rows:10,type:"text"},model:{value:e.banner.linkUrl,callback:function(t){e.$set(e.banner,"linkUrl",t)},expression:"banner.linkUrl"}})],1),n("el-form-item",{attrs:{label:"轮播图"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:e.BASE_API+"/eduoss/fileoss"}},[n("img",{staticStyle:{width:"300px"},attrs:{src:e.banner.imageUrl}})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("更新")])],1)],1)],1)],1)},r=[],i=n("e40c"),l={data:function(){return{page:1,limit:5,bannerQuery:{},total:0,bannerList:[],openupdateBanner:!1,banner:{title:"",sort:0,imageUrl:"https://edu20230513.oss-cn-guangzhou.aliyuncs.com/default/a.jpg",linkUrl:""},BASE_API:"http://8.130.115.225:8222"}},created:function(){this.getbannerList()},methods:{changeSize:function(e){console.log(e),this.limit=e,this.getbannerList(1)},handleAvatarSuccess:function(e,t){console.log(e.data.url),this.banner.imageUrl=e.data.url},beforeAvatarUpload:function(e){var t=e.size/1024/1024<5;return t||this.$message.error("上传轮播图图片大小不能超过 5MB!"),t},update:function(){var e=this;i["a"].updateBanner(this.banner).then((function(t){e.$message({type:"success",message:"更新成功!"}),e.openupdateBanner=!1,e.getbannerList()}))},openBanner:function(e){var t=this;this.banner={title:"",sort:0,imageUrl:"https://edu20230513.oss-cn-guangzhou.aliyuncs.com/default/a.jpg",linkUrl:""},i["a"].getBannerInfo(e).then((function(e){t.banner=e.data.item})),this.openupdateBanner=!0},getbannerList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=t,i["a"].getBannerListPage(this.page,this.limit,this.bannerQuery).then((function(t){e.bannerList=t.data.items,e.total=t.data.total})).catch((function(e){console.log(e)}))},resetData:function(){this.bannerQuery={},this.getbannerList()},removeDataById:function(e){var t=this;this.$confirm("是否删除此条banner记录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].deleteBannerId(e).then((function(e){t.$message({type:"success",message:"删除成功"}),t.getbannerList(t.page)})).catch((function(e){console.log(e),t.$message({type:"error",message:"删除失败"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},o=l,s=n("2877"),c=Object(s["a"])(o,a,r,!1,null,"2779af42",null);t["default"]=c.exports},e40c:function(e,t,n){"use strict";n("99af");var a=n("b775");t["a"]={getBannerListPage:function(e,t,n){return Object(a["a"])({url:"/educms/banneradmin/pageBanner/".concat(e,"/").concat(t),method:"post",data:n})},deleteBannerId:function(e){return Object(a["a"])({url:"/educms/banneradmin/remove/".concat(e),method:"delete"})},addBanner:function(e){return Object(a["a"])({url:"/educms/banneradmin/addBanner/",method:"post",data:e})},getBannerInfo:function(e){return Object(a["a"])({url:"/educms/banneradmin/get/".concat(e),method:"get"})},updateBanner:function(e){return Object(a["a"])({url:"/educms/banneradmin/updateBanner/",method:"post",data:e})}}}}]);