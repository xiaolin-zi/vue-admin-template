(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b0747e0"],{6925:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.searchObj.username,callback:function(t){e.$set(e.searchObj,"username",t)},expression:"searchObj.username"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"昵称"},model:{value:e.searchObj.nickname,callback:function(t){e.$set(e.searchObj,"nickname",t)},expression:"searchObj.nickname"}})],1),n("el-form-item",[n("span",{staticClass:"demonstration"},[e._v("注册时间")])]),n("el-form-item",[n("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.mydate,callback:function(t){e.mydate=t},expression:"mydate"}})],1),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchData()}}},[e._v("查询")]),n("el-button",{attrs:{type:"default"},on:{click:function(t){return e.resetData()}}},[e._v("清空")])],1),n("div",[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.addUser()}}},[e._v("添加")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.removeRows()}}},[e._v("批量删除")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",size:"medium","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection"}}),n("el-table-column",{attrs:{label:"序号",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.page-1)*e.limit+t.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{prop:"nickname",label:"用户昵称"}}),n("el-table-column",{attrs:{prop:"lastLoginTime",label:"最近登录时间",width:"150"}}),n("el-table-column",{attrs:{prop:"enabled",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success"}},[e._v("正常")]):n("el-tag",{attrs:{type:"danger"}},[e._v("不可用")])]}}])}),n("el-table-column",{attrs:{prop:"nickname",label:"用户昵称"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"150"}}),n("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"150"}}),n("el-table-column",{attrs:{prop:"createUserName",label:"创建人"}}),n("el-table-column",{attrs:{prop:"updateUserName",label:"修改人"}}),n("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.setPermission(t.row.id)}}},[e._v("分配角色")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.editUser(t.row.id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return e.removeUser(t.row.id)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.changeSize,"current-change":e.fetchData}})],1)},i=[],c=(n("d3b7"),n("159b"),n("d694")),r={data:function(){return{listLoading:!0,list:null,total:0,page:1,limit:10,searchObj:{},mydate:[],multipleSelection:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},created:function(){this.fetchData()},mounted:function(){},methods:{removeUser:function(e){var t=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c["a"].removeById(e)})).then((function(e){t.fetchData(t.page),e.success&&t.$message({type:"success",message:"删除成功!"})}))},handleSelectionChange:function(e){this.multipleSelection=e},removeRows:function(){var e=this;0!==this.multipleSelection.length?this.$confirm("此操作将永久删除选中记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];return e.multipleSelection.forEach((function(e){t.push(e.id)})),c["a"].removeRows(t)})).then((function(t){e.fetchData(e.page),t.success&&e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):this.$message({type:"warning",message:"请选择要删除的记录!"})},addUser:function(){this.$router.push("/acl/user/add")},editUser:function(e){this.$router.push("/acl/user/update/"+e)},setPermission:function(e){this.$router.push("/acl/user/role/"+e)},changeSize:function(e){console.log(e),this.limit=e,this.fetchData(1)},fetchData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=t,this.searchObj.begin=this.mydate[0],this.searchObj.end=this.mydate[1],c["a"].getPageList(this.page,this.limit,this.searchObj).then((function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1}))},resetData:function(){console.log("重置查询表单"),this.searchObj={},this.fetchData()}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},d694:function(e,t,n){"use strict";n("99af");var a=n("b775"),i="/admin/acl/user";t["a"]={getUserInfo:function(){return Object(a["a"])({url:"".concat(i,"/getUserInfo"),method:"get"})},getPageList:function(e,t,n){return Object(a["a"])({url:"".concat(i,"/").concat(e,"/").concat(t),method:"get",params:n})},getById:function(e){return Object(a["a"])({url:"".concat(i,"/get/").concat(e),method:"get"})},save:function(e){return Object(a["a"])({url:"".concat(i,"/save"),method:"post",data:e})},updateById:function(e){return Object(a["a"])({url:"".concat(i,"/update"),method:"put",data:e})},getAssign:function(e){return Object(a["a"])({url:"".concat(i,"/getRole/").concat(e),method:"get"})},saveAssign:function(e,t){return Object(a["a"])({url:"".concat(i,"/setRole"),method:"post",params:{userId:e,roleIds:t}})},removeById:function(e){return Object(a["a"])({url:"".concat(i,"/remove/").concat(e),method:"delete"})},removeRows:function(e){return Object(a["a"])({url:"".concat(i,"/batchRemove"),method:"delete",data:e})}}}}]);