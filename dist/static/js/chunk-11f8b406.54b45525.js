(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11f8b406"],{"07b6":function(e,t,i){},2597:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"课程类别"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:e.subjectLevelOneChanged},model:{value:e.courseQuery.subjectParentId,callback:function(t){e.$set(e.courseQuery,"subjectParentId",t)},expression:"courseQuery.subjectParentId"}},e._l(e.subjectNestedList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.courseQuery.subjectId,callback:function(t){e.$set(e.courseQuery,"subjectId",t)},expression:"courseQuery.subjectId"}},e._l(e.subSubjectList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),i("el-form-item",[i("el-input",{attrs:{placeholder:"课程标题"},model:{value:e.courseQuery.title,callback:function(t){e.$set(e.courseQuery,"title",t)},expression:"courseQuery.title"}})],1),i("el-form-item",[i("el-select",{attrs:{placeholder:"请选择讲师"},model:{value:e.courseQuery.teacherId,callback:function(t){e.$set(e.courseQuery,"teacherId",t)},expression:"courseQuery.teacherId"}},e._l(e.teacherList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-form-item",[i("el-select",{attrs:{placeholder:"请选择上架状态"},model:{value:e.courseQuery.status,callback:function(t){e.$set(e.courseQuery,"status",t)},expression:"courseQuery.status"}},[i("el-option",{attrs:{label:"已发布",value:"Normal"}}),i("el-option",{attrs:{label:"未发布",value:"Draft"}})],1)],1),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getCourseList()}}},[e._v("查 询")]),i("el-button",{attrs:{type:"default"},on:{click:function(t){return e.resetData()}}},[e._v("清空")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"数据加载中",border:"",fit:"","highlight-current-row":"","row-class-name":"myClassList"}},[i("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.page-1)*e.limit+t.$index+1)+" ")]}}])}),i("el-table-column",{attrs:{label:"课程信息",width:"470",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"info"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:t.row.cover,alt:t.row.title,width:"150px"}})]),i("div",{staticClass:"title"},[i("a",{attrs:{href:""}},[e._v(e._s(t.row.title))]),i("span",[e._v(e._s(t.row.lessonNum))]),e._v(" 课时 ")])])]}}])}),i("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.gmtCreate.substr(0,10))+" ")]}}])}),i("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.gmtModified.substr(0,10))+" ")]}}])}),i("el-table-column",{attrs:{label:"课程发布",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["Draft"===t.row.status?i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.toDelisting(t.row)}}},[e._v(" 上架 ")]):e._e(),"Normal"===t.row.status?i("el-button",{attrs:{type:"danger"},on:{click:function(i){return e.toListing(t.row)}}},[e._v("下架")]):e._e()]}}])}),i("el-table-column",{attrs:{label:"价格",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===Number(t.row.price)?"免费":"¥"+t.row.price.toFixed(2))+" ")]}}])}),i("el-table-column",{attrs:{prop:"buyCount",label:"付费学员",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.buyCount)+"人 ")]}}])}),i("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return e.openupdateCourseInfo(t.row.id)}}},[e._v("编辑课程信息")]),i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return e.openupdateChapter(t.row.id)}}},[e._v("编辑课程大纲")]),i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),i("el-dialog",{attrs:{visible:e.dialogUpdateChapter,title:"编辑课程大纲"},on:{"update:visible":function(t){e.dialogUpdateChapter=t}}},[i("el-button",{attrs:{type:"text"},on:{click:e.openChapterDialog}},[e._v("添加章节")]),i("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("el-collapse",e._l(e.myList,(function(t){return i("el-collapse-item",{key:t.id,staticClass:"chapter-item",attrs:{name:t.id}},[i("template",{slot:"title"},[i("p",{staticClass:"chapter-title",staticStyle:{width:"60%"}},[e._v(" "+e._s(t.title)+" ")]),i("span",{staticClass:"operation"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return i.stopPropagation(),e.openVideo(t.id)}}},[e._v("添加小节")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return i.stopPropagation(),e.openEditChapter(t.id)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return i.stopPropagation(),e.removeChapter(t)}}},[e._v("删除")])],1)]),i("ul",{staticClass:"chanpterList videoList"},e._l(t.children,(function(t){return i("li",{key:t.id},[i("p",[e._v(" "+e._s(t.title)+" "),i("span",{staticClass:"acts"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.openEditVideo(t.id)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.removeVideo(t.id)}}},[e._v("删除")])],1)])])})),0)],2)})),1),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogUpdateChapter=!1}}},[e._v("完成")])],1),i("el-dialog",{attrs:{visible:e.dialogChapterFormVisible,"append-to-body":"",title:e.dialogText},on:{"update:visible":function(t){e.dialogChapterFormVisible=t}}},[i("el-form",{attrs:{model:e.chapter,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"章节标题"}},[i("el-input",{model:{value:e.chapter.title,callback:function(t){e.$set(e.chapter,"title",t)},expression:"chapter.title"}})],1),i("el-form-item",{attrs:{label:"章节排序"}},[i("el-input-number",{attrs:{min:0,controlsposition:"\nright"},model:{value:e.chapter.sort,callback:function(t){e.$set(e.chapter,"sort",t)},expression:"chapter.sort"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogChapterFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdate}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{visible:e.dialogVideoFormVisible,"append-to-body":"",title:e.videoDialogText,"before-close":e.closeAddVideo},on:{"update:visible":function(t){e.dialogVideoFormVisible=t}}},[i("el-form",{attrs:{model:e.video,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"课时标题"}},[i("el-input",{model:{value:e.video.title,callback:function(t){e.$set(e.video,"title",t)},expression:"video.title"}})],1),i("el-form-item",{attrs:{label:"课时排序"}},[i("el-input-number",{attrs:{min:0,controlsposition:"\nright"},model:{value:e.video.sort,callback:function(t){e.$set(e.video,"sort",t)},expression:"video.sort"}})],1),i("el-form-item",{attrs:{label:"是否免费"}},[i("el-radio-group",{model:{value:e.video.isFree,callback:function(t){e.$set(e.video,"isFree",t)},expression:"video.isFree"}},[i("el-radio",{attrs:{label:!0}},[e._v("免费")]),i("el-radio",{attrs:{label:!1}},[e._v("默认")])],1)],1),i("el-form-item",{attrs:{label:"上传视频"}},[i("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleVodUploadSuccess,"on-remove":e.handleVodRemove,"before-remove":e.beforeVodRemove,"on-exceed":e.handleUploadExceed,"file-list":e.fileList,action:e.BASE_API+"/eduvod/video/uploadAliyunVideo",limit:1}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传视频")]),i("el-tooltip",{attrs:{placement:"right-end"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 最大支持1G，"),i("br"),e._v(" 支持3GP、ASF、AVI、DAT、DV、FLV、F4V、"),i("br"),e._v(" GIF、M2T、M4V、MJ2、MJPEG、MKV、MOV、MP4、"),i("br"),e._v(" MPE、MPG、MPEG、MTS、OGG、QT、RM、RMVB、"),i("br"),e._v(" SWF、TS、VOB、WMV、WEBM 等视频格式上传 ")]),i("i",{staticClass:"el-icon-question"})])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.closeAddVideo}},[e._v("取 消")]),i("el-button",{attrs:{disabled:e.saveVideoBtnDisabled,type:"primary"},on:{click:e.saveOrUpdateVideo}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"编辑课程基本信息",visible:e.dialogCourseFormVisible,top:"0"},on:{"update:visible":function(t){e.dialogCourseFormVisible=t}}},[i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"课程标题"}},[i("el-input",{attrs:{placeholder:" 示例：机器学习项目课：从基础到搭建项目视频课程。专业名称注意大小写"},model:{value:e.courseInfo.title,callback:function(t){e.$set(e.courseInfo,"title",t)},expression:"courseInfo.title"}})],1),i("el-form-item",{attrs:{label:"课程分类"}},[i("el-select",{attrs:{placeholder:"一级分类"},on:{change:e.subjectLevelOneChanged},model:{value:e.courseInfo.subjectParentId,callback:function(t){e.$set(e.courseInfo,"subjectParentId",t)},expression:"courseInfo.subjectParentId"}},e._l(e.subjectNestedList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1),i("el-select",{attrs:{placeholder:"二级分类"},model:{value:e.courseInfo.subjectId,callback:function(t){e.$set(e.courseInfo,"subjectId",t)},expression:"courseInfo.subjectId"}},e._l(e.subSubjectList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"课程讲师"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.courseInfo.teacherId,callback:function(t){e.$set(e.courseInfo,"teacherId",t)},expression:"courseInfo.teacherId"}},e._l(e.teacherList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"总课时"}},[i("el-input-number",{attrs:{min:0,"controls-position":"right",placeholder:"请填写课程的总课时数"},model:{value:e.courseInfo.lessonNum,callback:function(t){e.$set(e.courseInfo,"lessonNum",t)},expression:"courseInfo.lessonNum"}})],1),i("el-form-item",{attrs:{label:"课程简介"}},[i("tinymce",{attrs:{height:300},model:{value:e.courseInfo.description,callback:function(t){e.$set(e.courseInfo,"description",t)},expression:"courseInfo.description"}})],1),i("el-form-item",{attrs:{label:"课程封面"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:e.BASE_API+"/eduoss/fileoss"}},[i("img",{staticStyle:{width:"300px"},attrs:{src:e.courseInfo.cover}})])],1),i("el-form-item",{attrs:{label:"课程价格"}},[i("el-input-number",{attrs:{min:0,"controls-position":"right",placeholder:"免费课程请设置为0元"},model:{value:e.courseInfo.price,callback:function(t){e.$set(e.courseInfo,"price",t)},expression:"courseInfo.price"}}),e._v(" 元 ")],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.updateCourse}},[e._v("保存修改")])],1)],1)],1),i("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":e.page,"page-size":e.limit,total:e.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":e.getCourseList}})],1)},n=[],s=(i("4de4"),i("d3b7"),i("b0c0"),i("4e82"),i("c5ab")),a=i("3e5e"),r=i("8256"),c=i("5991"),l=i("ce5a"),u={data:function(){return{fileList:[],BASE_API:"http://8.130.115.225:8222",video:{title:"",sort:0,isFree:!1,videoSourceId:"",videoOriginalName:""},chapter:{title:"",sort:0},dialogText:"",filterText:"",videoDialogText:"",saveBtnDisabled:!1,saveVideoBtnDisabled:!1,dialogChapterFormVisible:!1,dialogVideoFormVisible:!1,dialogUpdateChapter:!1,chapterVideoList:[],courseInfo:{title:"",subjectId:"",subjectParentId:"",teacherId:"",lessonNum:0,description:"",cover:"https://edu20230513.oss-cn-guangzhou.aliyuncs.com/default/a.jpg",price:0},courseId:"",dialogCourseFormVisible:!1,listLoading:!0,list:null,total:0,page:1,limit:10,courseQuery:{subjectParentId:"",subjectId:"",title:"",teacherId:"",status:"",lessonNum:""},teacherList:[],subjectNestedList:[],subSubjectList:[]}},components:{Tinymce:r["a"]},created:function(){this.getCourseList(),this.initSubjectList(),this.initTeacherList()},computed:{myList:function(){var e=this;return this.chapterVideoList.filter((function(t){return-1!==t.title.toLowerCase().indexOf(e.filterText.toLowerCase())}))}},methods:{toDelisting:function(e){var t=this;console.log(e),this.$confirm("是否上架课程《".concat(e.title,"》？")).then((function(){s["a"].updateCourseStatus(e.id,1).then((function(e){t.$message({type:"success",message:"上架成功"}),t.getCourseList()}))})).catch((function(){}))},toListing:function(e){var t=this;this.$confirm("是否下架课程《".concat(e.title,"》？")).then((function(){s["a"].updateCourseStatus(e.id,0).then((function(e){t.$message({type:"success",message:"下架成功"}),t.getCourseList()}))})).catch((function(){}))},closeAddVideo:function(){var e=this;this.video.id?this.dialogVideoFormVisible=!1:this.video.videoSourceId?this.$confirm("是否中途退出并移除视频？").then((function(){e.dialogVideoFormVisible=!1,e.handleVodRemove()})).catch((function(){})):this.dialogVideoFormVisible=!1},handleVodRemove:function(){var e=this;l["a"].deleteAliyunvod(this.video.videoSourceId).then((function(t){e.$message({type:"success",message:"删除成功！"}),e.fileList=[],e.video.videoSourceId="",e.video.videoOriginalName="",l["a"].updateVideo(e.video).then((function(e){}))}))},beforeVodRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleVodUploadSuccess:function(e,t,i){this.video.videoSourceId=e.data.videoId,this.video.videoOriginalName=t.name},handleUploadExceed:function(){this.$message({type:"warning",message:"想要重新上传视频，请先删除已上传的视频"})},openEditVideo:function(e){var t=this;this.fileList=[],this.videoDialogText="修改小节",l["a"].getVideoInfo(e).then((function(e){console.log(e.data),t.video=e.data.video,t.video.videoOriginalName&&(t.fileList=[{name:t.video.videoOriginalName}])})),this.dialogVideoFormVisible=!0},removeVideo:function(e){var t=this;this.$confirm("此操作将永久删除该课时, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].deleteVideo(e).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getChapterVideo()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},openVideo:function(e){this.fileList=[],this.videoDialogText="添加小节",this.video={title:"",sort:0,free:!1,videoSourceId:""},this.dialogVideoFormVisible=!0,this.video.chapterId=e},addVideo:function(){var e=this;this.video.courseId=this.courseId,l["a"].addVideo(this.video).then((function(t){e.dialogVideoFormVisible=!1,e.$message({type:"success",message:"添加成功!"}),e.getChapterVideo()}))},updateVideo:function(){var e=this;this.video.title?l["a"].updateVideo(this.video).then((function(t){e.dialogVideoFormVisible=!1,e.$message({type:"success",message:"修改成功!"}),e.getChapterVideo()})):this.$message({type:"warning",message:"请输入小节标题!"})},saveOrUpdateVideo:function(){this.video.id?this.updateVideo():this.addVideo()},removeChapter:function(e){var t=this;e.children.length>0?this.$confirm("此操作会删除该章节和其小节,请谨慎操作，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){c["a"].deleteAllChapter(e.id).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getChapterVideo()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):this.$confirm("此章节尚未有子章节，可以放心删除，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c["a"].deleteChapter(e.id).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getChapterVideo()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},updateChapter:function(){var e=this;""!=this.chapter.title?c["a"].updateChapter(this.chapter).then((function(t){e.dialogChapterFormVisible=!1,e.$message({message:"修改章节成功！",type:"success"}),e.getChapterVideo()})):this.$message({message:"章节标题不能为空！",type:"warning"})},openEditChapter:function(e){var t=this;this.dialogText="修改章节",this.dialogChapterFormVisible=!0,c["a"].getChapter(e).then((function(e){t.chapter=e.data.chapter}))},openChapterDialog:function(){this.dialogText="添加章节",this.chapter.title="",this.chapter.sort=0,this.chapter.id="",this.dialogChapterFormVisible=!0},addChapter:function(){var e=this;this.chapter.courseId=this.courseId,""!=this.chapter.title?c["a"].addChapter(this.chapter).then((function(t){e.dialogChapterFormVisible=!1,e.$message({message:"添加章节成功！",type:"success"}),e.getChapterVideo()})):this.$message({message:"章节标题不能为空！",type:"warning"})},saveOrUpdate:function(){this.chapter.id?this.updateChapter():this.addChapter()},openupdateChapter:function(e){this.courseId=e,this.getChapterVideo(),this.dialogUpdateChapter=!0},getChapterVideo:function(){var e=this;c["a"].getAllChapterVideo(this.courseId).then((function(t){e.chapterVideoList=t.data.allChapterVideo}))},handleAvatarSuccess:function(e,t){this.courseInfo.cover=e.data.url},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,i=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&i},updateCourse:function(){var e=this;s["a"].updateCourseInfo(this.courseInfo).then((function(t){e.$message({message:"修改课程成功！",type:"success"}),e.dialogCourseFormVisible=!1,e.getCourseList()}))},openupdateCourseInfo:function(e){this.courseId=e,this.getCourseInfo(),this.dialogCourseFormVisible=!0},getCourseInfo:function(){var e=this;s["a"].getCourseInfoById(this.courseId).then((function(t){e.courseInfo=t.data.courseInfo,a["a"].getSubjectList().then((function(t){e.subjectNestedList=t.data.list;for(var i=0;i<e.subjectNestedList.length;i++)e.subjectNestedList[i].id==e.courseInfo.subjectParentId&&(e.subSubjectList=e.subjectNestedList[i].children);e.initTeacherList()}))})).catch((function(t){e.$message.error(t.message||"课程信息获取失败")}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该课程, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s["a"].deleteCourseById(e).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getCourseList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},resetData:function(){this.courseQuery={},this.subSubjectList=[],this.getCourseList()},subjectLevelOneChanged:function(e){for(var t=0;t<this.subjectNestedList.length;t++){var i=this.subjectNestedList[t];i.id==e&&(this.courseQuery.subjectId="",this.subSubjectList=i.children)}},initTeacherList:function(){var e=this;s["a"].getTeacherList().then((function(t){e.teacherList=t.data.items}))},initSubjectList:function(){var e=this;a["a"].getSubjectList().then((function(t){e.subjectNestedList=t.data.list}))},getCourseList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=t,this.listLoading=!0,console.log(this.courseQuery),s["a"].getCourseListPage(this.page,this.limit,this.courseQuery).then((function(t){e.list=t.data.rows,e.total=t.data.total,e.listLoading=!1})).catch((function(t){e.listLoading=!1,console.log(t)}))}}},d=u,h=(i("ab38"),i("2877")),p=Object(h["a"])(d,o,n,!1,null,"193986b6",null);t["default"]=p.exports},"354f":function(e,t,i){},"3e5e":function(e,t,i){"use strict";var o=i("b775");t["a"]={getSubjectList:function(){return Object(o["a"])({url:"/eduservice/subject/getAllSubject",method:"get"})},addTwoLevel:function(e,t){return Object(o["a"])({url:"/eduservice/subject/addTwoLevel/"+e,method:"post",data:t})},addOneLevel:function(e){return Object(o["a"])({url:"/eduservice/subject/addOneLevel",method:"post",data:e})},addSubject:function(e,t){return Object(o["a"])({url:"/eduservice/subject/addSubject/"+e,method:"post",data:t})},deleteSubject:function(e){return Object(o["a"])({url:"/eduservice/subject/deleteSubject/"+e,method:"delete"})},deleteAllSubject:function(e){return Object(o["a"])({url:"/eduservice/subject/deleteAllSubject/"+e,method:"delete"})},updateSubject:function(e,t){return Object(o["a"])({url:"/eduservice/subject/updateSubject/"+e,method:"post",data:t})}}},"4e82":function(e,t,i){"use strict";var o=i("23e7"),n=i("1c0b"),s=i("7b0b"),a=i("d039"),r=i("a640"),c=[],l=c.sort,u=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),h=r("sort"),p=u||!d||!h;o({target:"Array",proto:!0,forced:p},{sort:function(e){return void 0===e?l.call(s(this)):l.call(s(this),n(e))}})},5991:function(e,t,i){"use strict";var o=i("b775");t["a"]={getAllChapterVideo:function(e){return Object(o["a"])({url:"/eduservice/chapter/getChapterVideo/".concat(e),method:"get"})},addChapter:function(e){return Object(o["a"])({url:"/eduservice/chapter/addChapter",method:"post",data:e})},getChapter:function(e){return Object(o["a"])({url:"/eduservice/chapter/getChapterInfo/".concat(e),method:"get"})},updateChapter:function(e){return Object(o["a"])({url:"/eduservice/chapter/updateChapter",method:"post",data:e})},deleteChapter:function(e){return Object(o["a"])({url:"/eduservice/chapter/".concat(e),method:"delete"})},deleteAllChapter:function(e){return Object(o["a"])({url:"/eduservice/chapter/deleteAllChapter/".concat(e),method:"delete"})}}},7075:function(e,t,i){"use strict";i("354f")},8256:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},n=[],s=(i("b680"),i("a9e3"),i("ac1f"),i("00b4"),i("d3b7"),i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" upload ")]),i("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:e.BASE_API+"/eduoss/fileoss","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" Click upload ")])],1),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" Cancel ")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" Confirm ")])],1)],1)}),a=[],r=(i("b64b"),i("d81d"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],BASE_API:"http://8.130.115.225:8222"}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){console.log(e);for(var i=t.uid,o=Object.keys(this.listObj),n=0,s=o.length;n<s;n++)if(this.listObj[o[n]].uid===i)return this.listObj[o[n]].url=e.data.url,void(this.listObj[o[n]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,i=Object.keys(this.listObj),o=0,n=i.length;o<n;o++)if(this.listObj[i[o]].uid===t)return void delete this.listObj[i[o]]},beforeUpload:function(e){console.log(e);var t=this,i=window.URL||window.webkitURL;console.log(i);var o=e.uid;return this.listObj[o]={},new Promise((function(n,s){var a=new Image;a.src=i.createObjectURL(e),a.onload=function(){t.listObj[o]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},n(!0)}))}}}),c=r,l=(i("7075"),i("2877")),u=Object(l["a"])(c,s,a,!1,null,"40e5f274",null),d=u.exports,h=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],p=h,f=["codesample searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],m=f,b=i("b85c"),g=[];function v(){return window.tinymce}var y=function(e,t){var i=document.getElementById(e),o=t||function(){};if(!i){var n=document.createElement("script");n.src=e,n.id=e,document.body.appendChild(n),g.push(o);var s="onload"in n?a:r;s(n)}function a(t){t.onload=function(){this.onerror=this.onload=null;var e,i=Object(b["a"])(g);try{for(i.s();!(e=i.n()).done;){var o=e.value;o(null,t)}}catch(n){i.e(n)}finally{i.f()}g=null},t.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+e),t)}}function r(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t,i=Object(b["a"])(g);try{for(i.s();!(t=i.n()).done;){var o=t.value;o(null,e)}}catch(n){i.e(n)}finally{i.f()}g=null}}}i&&o&&(v()?o(null,i):g.push(o))},C=y,j="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",I={name:"Tinymce",components:{editorImage:d},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;C(j,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:m,menubar:this.menubar,plugins:p,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){t.value&&i.setContent(t.value),t.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",i.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))},convert_urls:!1})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){return window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},_=I,V=(i("9079"),Object(l["a"])(_,o,n,!1,null,"5673f334",null));t["a"]=V.exports},9079:function(e,t,i){"use strict";i("07b6")},ab38:function(e,t,i){"use strict";i("cb80")},c5ab:function(e,t,i){"use strict";i("99af");var o=i("b775");t["a"]={addCourseInfo:function(e){return Object(o["a"])({url:"/eduservice/course/addCourseInfo",method:"post",data:e})},getTeacherList:function(){return Object(o["a"])({url:"/eduservice/teacher/findAll",method:"get"})},getCourseInfoById:function(e){return Object(o["a"])({url:"/eduservice/course/getCourseInfo/"+e,method:"get"})},updateCourseInfo:function(e){return Object(o["a"])({url:"/eduservice/course/updateCourseInfo",method:"post",data:e})},getPublishCourseInfo:function(e){return Object(o["a"])({url:"/eduservice/course/getPublishCourseInfo/"+e,method:"get"})},publishCourse:function(e){return Object(o["a"])({url:"/eduservice/course/publishCourse/"+e,method:"post"})},getCourseListPage:function(e,t,i){return Object(o["a"])({url:"/eduservice/course/pageCourseCondition/".concat(e,"/").concat(t),method:"post",data:i})},deleteCourseById:function(e){return Object(o["a"])({url:"/eduservice/course/".concat(e),method:"delete"})},updateCourseStatus:function(e,t){return Object(o["a"])({url:"/eduservice/course/updateCourseStatus/".concat(e,"/").concat(t),method:"put"})}}},cb80:function(e,t,i){},ce5a:function(e,t,i){"use strict";var o=i("b775");t["a"]={addVideo:function(e){return Object(o["a"])({url:"/eduservice/video/addVideo",method:"post",data:e})},deleteVideo:function(e){return Object(o["a"])({url:"/eduservice/video/".concat(e),method:"delete"})},getVideoInfo:function(e){return Object(o["a"])({url:"/eduservice/video/getVideoInfo/".concat(e),method:"get"})},updateVideo:function(e){return Object(o["a"])({url:"/eduservice/video/updateVideo",method:"post",data:e})},deleteAliyunvod:function(e){return Object(o["a"])({url:"/eduvod/video/removeAlyVideo/".concat(e),method:"delete"})}}}}]);